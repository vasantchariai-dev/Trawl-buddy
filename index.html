<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Food trawl buddy</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --pastel-peach: #FDDCB5;
    --pastel-mint: #D4EDDA;
    --pastel-lavender: #E8DAEF;
    --pastel-sky: #D6EAF8;
    --pastel-rose: #FADBD8;
    --pastel-cream: #FEF9E7;
    --pastel-sage: #D5E8D4;
    --pastel-blush: #F5CBA7;
    --whale-blue: #4A90B8;
    --whale-dark: #2C5F7C;
    --text-dark: #2C3E50;
    --text-mid: #5D6D7E;
    --bg: #FDF6F0;
  }

  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: var(--bg);
    color: var(--text-dark);
    min-height: 100vh;
    overflow-x: hidden;
  }

  header {
    text-align: center;
    padding: 2rem 1rem 1rem;
  }

  header h1 {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: clamp(2rem, 5vw, 3.2rem);
    font-weight: 700;
    color: var(--text-dark);
    letter-spacing: -0.02em;
  }

  header p {
    font-size: 0.95rem;
    color: var(--text-mid);
    margin-top: 0.3rem;
    font-weight: 300;
  }

  /* ---- Hero graphic ---- */
  .hero {
    display: flex;
    justify-content: center;
    padding: 1rem 1rem 0.5rem;
  }

  .hero svg {
    width: 100%;
    max-width: 600px;
    height: auto;
  }

  /* ---- Spinner section ---- */
  .spinner-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem 1rem 3rem;
  }

  .spinner-container {
    position: relative;
    width: min(85vw, 420px);
    height: min(85vw, 420px);
  }

  .spinner-pointer {
    position: absolute;
    top: -18px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.15));
  }

  canvas#wheel {
    width: 100%;
    height: 100%;
    cursor: pointer;
    border-radius: 50%;
    box-shadow: 0 8px 32px rgba(44, 95, 124, 0.15), 0 2px 8px rgba(0,0,0,0.08);
    transition: box-shadow 0.3s;
  }

  canvas#wheel:hover {
    box-shadow: 0 8px 40px rgba(44, 95, 124, 0.25), 0 2px 12px rgba(0,0,0,0.12);
  }

  .spin-btn {
    margin-top: 1.5rem;
    padding: 0.85rem 2.8rem;
    font-family: 'Inter', sans-serif;
    font-size: 1.05rem;
    font-weight: 600;
    color: #fff;
    background: linear-gradient(135deg, var(--whale-blue), var(--whale-dark));
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 4px 16px rgba(44, 95, 124, 0.3);
    transition: transform 0.2s, box-shadow 0.2s;
    letter-spacing: 0.02em;
  }

  .spin-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 24px rgba(44, 95, 124, 0.4);
  }

  .spin-btn:active {
    transform: translateY(0);
  }

  .spin-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  /* ---- Result display ---- */
  .result {
    margin-top: 1.5rem;
    text-align: center;
    min-height: 3.5rem;
  }

  .result-text {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: clamp(1.4rem, 4vw, 2rem);
    font-weight: 700;
    color: var(--whale-dark);
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.5s, transform 0.5s;
  }

  .result-text.show {
    opacity: 1;
    transform: translateY(0);
  }

  .result-sub {
    font-size: 0.85rem;
    color: var(--text-mid);
    margin-top: 0.25rem;
    opacity: 0;
    transition: opacity 0.5s 0.2s;
  }

  .result-sub.show { opacity: 1; }

  /* ---- Converter section ---- */
  .converter-section {
    max-width: 500px;
    margin: 0 auto;
    padding: 2rem 1rem;
    text-align: center;
  }

  .converter-section h2 {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: clamp(1.5rem, 4vw, 2rem);
    color: var(--text-dark);
    margin-bottom: 1rem;
  }

  .converter-box {
    background: linear-gradient(135deg, var(--pastel-sky), var(--pastel-mint));
    padding: 2rem;
    border-radius: 20px;
    box-shadow: 0 4px 16px rgba(44, 95, 124, 0.15);
  }

  .input-group {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 1rem;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  }

  .input-group input {
    padding: 0.75rem 1rem;
    font-size: 1rem;
    border: 2px solid var(--whale-blue);
    border-radius: 10px;
    width: 150px;
    font-family: 'Inter', sans-serif;
  }

  .input-group label {
    font-weight: 500;
    color: var(--text-dark);
  }

  .convert-result {
    margin-top: 1.5rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 12px;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .convert-result-text {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--whale-dark);
  }

  /* ---- Footer ---- */
  footer {
    text-align: center;
    padding: 2rem 1rem;
    font-size: 0.8rem;
    color: var(--text-mid);
    opacity: 0.6;
  }

  /* ---- Responsive ---- */
  @media (max-width: 480px) {
    header { padding: 1.5rem 1rem 0.5rem; }
    .spinner-section { padding: 0.5rem 1rem 2rem; }
    .spin-btn { padding: 0.75rem 2.2rem; font-size: 1rem; }
  }
</style>
</head>
<body>

<header>
  <h1>Food trawl buddy</h1>
  <p>Spin the wheel, find your feast</p>
</header>

<!-- Hero: two whale silhouettes trawling fish -->
<div class="hero">
  <svg viewBox="0 0 600 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Two whale silhouettes trawling small fish">
    <!-- Background wave hint -->
    <defs>
      <linearGradient id="waveGrad" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#D6EAF8" stop-opacity="0.3"/>
        <stop offset="100%" stop-color="#AED6F1" stop-opacity="0.15"/>
      </linearGradient>
      <linearGradient id="whaleGrad1" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0%" stop-color="#5DADE2"/>
        <stop offset="100%" stop-color="#2C5F7C"/>
      </linearGradient>
      <linearGradient id="whaleGrad2" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0%" stop-color="#76C7E8"/>
        <stop offset="100%" stop-color="#3A7CA5"/>
      </linearGradient>
    </defs>

    <!-- Subtle water -->
    <ellipse cx="300" cy="200" rx="290" ry="30" fill="url(#waveGrad)"/>

    <!-- Small fish being trawled (centre cluster) -->
    <g fill="#F5B041" opacity="0.85">
      <!-- Fish shape helper: body ellipse + tail -->
      <g transform="translate(250, 95) scale(0.7)">
        <ellipse cx="0" cy="0" rx="8" ry="4" fill="#F5B041"/>
        <polygon points="8,-1 14,-5 14,5 8,1" fill="#F5B041"/>
        <circle cx="-4" cy="-1" r="1" fill="#2C3E50"/>
      </g>
      <g transform="translate(270, 80) scale(0.6)">
        <ellipse cx="0" cy="0" rx="8" ry="4" fill="#E8B960"/>
        <polygon points="8,-1 14,-5 14,5 8,1" fill="#E8B960"/>
        <circle cx="-4" cy="-1" r="1" fill="#2C3E50"/>
      </g>
      <g transform="translate(260, 110) scale(0.55)">
        <ellipse cx="0" cy="0" rx="8" ry="4" fill="#F0C36D"/>
        <polygon points="8,-1 14,-5 14,5 8,1" fill="#F0C36D"/>
        <circle cx="-4" cy="-1" r="1" fill="#2C3E50"/>
      </g>
      <g transform="translate(285, 100) scale(0.5)">
        <ellipse cx="0" cy="0" rx="8" ry="4" fill="#F5B041"/>
        <polygon points="8,-1 14,-5 14,5 8,1" fill="#F5B041"/>
        <circle cx="-4" cy="-1" r="1" fill="#2C3E50"/>
      </g>
      <g transform="translate(310, 88) scale(0.6)">
        <ellipse cx="0" cy="0" rx="8" ry="4" fill="#E8B960"/>
        <polygon points="8,-1 14,-5 14,5 8,1" fill="#E8B960"/>
        <circle cx="-4" cy="-1" r="1" fill="#2C3E50"/>
      </g>
      <g transform="translate(295, 115) scale(0.45)">
        <ellipse cx="0" cy="0" rx="8" ry="4" fill="#F0C36D"/>
        <polygon points="8,-1 14,-5 14,5 8,1" fill="#F0C36D"/>
        <circle cx="-4" cy="-1" r="1" fill="#2C3E50"/>
      </g>
      <g transform="translate(320, 105) scale(0.5)">
        <ellipse cx="0" cy="0" rx="8" ry="4" fill="#F5B041"/>
        <polygon points="8,-1 14,-5 14,5 8,1" fill="#F5B041"/>
        <circle cx="-4" cy="-1" r="1" fill="#2C3E50"/>
      </g>
      <g transform="translate(340, 92) scale(0.55)">
        <ellipse cx="0" cy="0" rx="8" ry="4" fill="#E8B960"/>
        <polygon points="8,-1 14,-5 14,5 8,1" fill="#E8B960"/>
        <circle cx="-4" cy="-1" r="1" fill="#2C3E50"/>
      </g>
    </g>

    <!-- LEFT WHALE: bald bearded man silhouette (facing right, mouth open) -->
    <g transform="translate(60, 55)">
      <!-- Whale body -->
      <path d="
        M 0,70
        Q 10,20 60,10
        Q 90,2 120,8
        Q 150,15 170,35
        L 185,55
        L 185,85
        L 170,105
        Q 150,125 120,132
        Q 90,138 60,130
        Q 10,120 0,70
        Z
      " fill="url(#whaleGrad1)"/>
      <!-- Open mouth (gap at front) -->
      <path d="
        M 170,35
        L 200,42
        L 200,50
        L 185,55
        Z
      " fill="url(#whaleGrad1)"/>
      <path d="
        M 185,85
        L 200,90
        L 200,98
        L 170,105
        Z
      " fill="url(#whaleGrad1)"/>
      <!-- Mouth interior -->
      <path d="
        M 185,55 L 200,50 L 200,90 L 185,85 Z
      " fill="#1A3A4F" opacity="0.5"/>
      <!-- Tail flukes -->
      <path d="
        M 0,70
        Q -15,45 -30,30
        Q -20,50 -25,70
        Q -20,90 -30,110
        Q -15,95 0,70
        Z
      " fill="url(#whaleGrad1)"/>
      <!-- Eye -->
      <circle cx="145" cy="50" r="5" fill="#1A3A4F"/>
      <circle cx="146" cy="49" r="1.5" fill="#fff"/>
      <!-- Fin -->
      <path d="M 80,130 Q 90,155 70,165 Q 65,150 80,130 Z" fill="var(--whale-dark)" opacity="0.7"/>

      <!-- Man silhouette overlay: bald head + beard -->
      <g opacity="0.2" fill="#1A3A4F">
        <!-- Bald dome (on top of whale head area) -->
        <ellipse cx="110" cy="18" rx="30" ry="16"/>
        <!-- Face shape -->
        <rect x="92" y="18" width="36" height="28" rx="5"/>
        <!-- Beard -->
        <path d="M 92,38 Q 90,55 100,60 Q 110,64 120,60 Q 128,55 128,38 Z"/>
        <!-- Ear hints -->
        <ellipse cx="89" cy="32" rx="4" ry="6"/>
        <ellipse cx="131" cy="32" rx="4" ry="6"/>
      </g>

      <!-- Belly lines -->
      <g stroke="#fff" stroke-width="0.8" opacity="0.2">
        <path d="M 60,90 Q 100,95 140,88" fill="none"/>
        <path d="M 55,100 Q 95,106 135,98" fill="none"/>
        <path d="M 60,110 Q 90,115 125,108" fill="none"/>
      </g>
    </g>

    <!-- RIGHT WHALE: woman with dark hair silhouette (facing left, mouth open) -->
    <g transform="translate(340, 50)">
      <!-- Whale body (mirrored) -->
      <path d="
        M 200,75
        Q 190,25 140,12
        Q 110,4 80,10
        Q 50,18 30,40
        L 15,60
        L 15,90
        L 30,110
        Q 50,130 80,137
        Q 110,143 140,135
        Q 190,125 200,75
        Z
      " fill="url(#whaleGrad2)"/>
      <!-- Open mouth -->
      <path d="
        M 30,40
        L 0,47
        L 0,55
        L 15,60
        Z
      " fill="url(#whaleGrad2)"/>
      <path d="
        M 15,90
        L 0,95
        L 0,103
        L 30,110
        Z
      " fill="url(#whaleGrad2)"/>
      <!-- Mouth interior -->
      <path d="
        M 15,60 L 0,55 L 0,95 L 15,90 Z
      " fill="#1A3A4F" opacity="0.5"/>
      <!-- Tail flukes -->
      <path d="
        M 200,75
        Q 215,50 230,35
        Q 220,55 225,75
        Q 220,95 230,115
        Q 215,100 200,75
        Z
      " fill="url(#whaleGrad2)"/>
      <!-- Eye -->
      <circle cx="55" cy="55" r="5" fill="#1A3A4F"/>
      <circle cx="54" cy="54" r="1.5" fill="#fff"/>
      <!-- Fin -->
      <path d="M 120,135 Q 110,160 130,170 Q 135,155 120,135 Z" fill="#3A7CA5" opacity="0.7"/>

      <!-- Woman silhouette overlay: dark hair -->
      <g opacity="0.2" fill="#1A3A4F">
        <!-- Hair (longer, flowing over whale top) -->
        <ellipse cx="95" cy="16" rx="32" ry="18"/>
        <!-- Hair flowing down sides -->
        <path d="M 63,16 Q 58,30 60,50 Q 63,40 68,30 Z"/>
        <path d="M 127,16 Q 132,30 130,50 Q 127,40 122,30 Z"/>
        <!-- Face -->
        <ellipse cx="95" cy="32" rx="18" ry="14"/>
      </g>

      <!-- Belly lines -->
      <g stroke="#fff" stroke-width="0.8" opacity="0.2">
        <path d="M 140,95 Q 100,100 60,93" fill="none"/>
        <path d="M 145,105 Q 105,111 65,103" fill="none"/>
        <path d="M 140,115 Q 110,120 75,113" fill="none"/>
      </g>
    </g>

    <!-- Tiny bubbles -->
    <g fill="#AED6F1" opacity="0.4">
      <circle cx="240" cy="70" r="2.5"/>
      <circle cx="248" cy="60" r="1.5"/>
      <circle cx="355" cy="65" r="2"/>
      <circle cx="362" cy="55" r="1.8"/>
      <circle cx="300" cy="50" r="1.5"/>
    </g>
  </svg>
</div>

<!-- Spinner -->
<section class="spinner-section">
  <!-- Pointer triangle -->
  <div class="spinner-container">
    <svg class="spinner-pointer" width="36" height="28" viewBox="0 0 36 28">
      <polygon points="18,28 4,0 32,0" fill="var(--whale-dark)" stroke="#fff" stroke-width="1.5"/>
    </svg>
    <canvas id="wheel" width="840" height="840"></canvas>
  </div>

  <button class="spin-btn" id="spinBtn" onclick="spin()">Spin the wheel</button>

  <div class="result">
    <div class="result-text" id="resultText"></div>
    <div class="result-sub" id="resultSub"></div>
  </div>
</section>

<!-- Acres to Football Pitches Converter -->
<section class="converter-section">
  <h2>Acres to Football Pitches</h2>
  <div class="converter-box">
    <div class="input-group">
      <label for="acresInput">Acres:</label>
      <input type="number" id="acresInput" placeholder="Enter acres" min="0" step="0.01" oninput="convertAcres()">
    </div>
    <div class="convert-result">
      <div class="convert-result-text" id="convertResult">Enter acres to convert</div>
    </div>
  </div>
</section>

<footer>
  Made with appetite &mdash; Food trawl buddy
</footer>

<script>
(function () {
  // ---- Food options ----
  const options = [
    { label: 'Burgers',      emoji: 'üçî', color: '#FDDCB5' },
    { label: 'Brunch',       emoji: 'ü•û', color: '#D4EDDA' },
    { label: 'Smorgasbord',  emoji: 'üçΩÔ∏è', color: '#E8DAEF' },
    { label: 'Frokost',      emoji: 'ü•™', color: '#D6EAF8' },
    { label: 'Abendbrot',    emoji: 'ü•®', color: '#FADBD8' },
    { label: 'Koldtbord',    emoji: 'üêü', color: '#FEF9E7' },
    { label: 'Fl√¶skesteg',   emoji: 'ü•©', color: '#D5E8D4' },
    { label: 'Bratwurst',    emoji: 'üå≠', color: '#F5CBA7' },
  ];

  const subtitles = {
    'Burgers':     'Classic and customisable',
    'Brunch':      'Late morning perfection',
    'Smorgasbord': 'A bit of everything',
    'Frokost':     'Danish lunch spread',
    'Abendbrot':   'German evening bread',
    'Koldtbord':   'Scandinavian cold table',
    'Fl√¶skesteg':  'Danish roast pork',
    'Bratwurst':   'German grilled sausage',
  };

  const n = options.length;
  const arc = (2 * Math.PI) / n;

  // ---- Canvas setup ----
  const canvas = document.getElementById('wheel');
  const ctx = canvas.getContext('2d');
  const size = canvas.width;
  const cx = size / 2;
  const cy = size / 2;
  const radius = cx - 10;

  let currentAngle = 0;
  let spinning = false;

  // ---- Draw wheel ----
  function draw() {
    ctx.clearRect(0, 0, size, size);

    // Outer ring shadow
    ctx.save();
    ctx.beginPath();
    ctx.arc(cx, cy, radius + 4, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(44, 95, 124, 0.08)';
    ctx.fill();
    ctx.restore();

    for (let i = 0; i < n; i++) {
      const startAngle = currentAngle + i * arc - Math.PI / 2;
      const endAngle = startAngle + arc;

      // Segment
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.arc(cx, cy, radius, startAngle, endAngle);
      ctx.closePath();
      ctx.fillStyle = options[i].color;
      ctx.fill();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 3;
      ctx.stroke();

      // Text
      ctx.save();
      ctx.translate(cx, cy);
      ctx.rotate(startAngle + arc / 2);
      ctx.textAlign = 'right';
      ctx.fillStyle = '#2C3E50';
      ctx.font = 'bold 28px Inter, sans-serif';
      ctx.fillText(options[i].label, radius - 50, 4);
      ctx.font = '32px sans-serif';
      ctx.fillText(options[i].emoji, radius - 14, 6);
      ctx.restore();
    }

    // Centre circle
    ctx.beginPath();
    ctx.arc(cx, cy, 44, 0, 2 * Math.PI);
    ctx.fillStyle = '#fff';
    ctx.fill();
    ctx.strokeStyle = '#E8DAEF';
    ctx.lineWidth = 3;
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(cx, cy, 38, 0, 2 * Math.PI);
    const cg = ctx.createRadialGradient(cx, cy, 5, cx, cy, 38);
    cg.addColorStop(0, '#5DADE2');
    cg.addColorStop(1, '#2C5F7C');
    ctx.fillStyle = cg;
    ctx.fill();

    // Centre icon (fork + knife)
    ctx.fillStyle = '#fff';
    ctx.font = '28px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('üç¥', cx, cy + 1);

    // Outer border
    ctx.beginPath();
    ctx.arc(cx, cy, radius, 0, 2 * Math.PI);
    ctx.strokeStyle = 'rgba(44, 95, 124, 0.12)';
    ctx.lineWidth = 5;
    ctx.stroke();
  }

  draw();

  // ---- Audio (generated landing ding) ----
  let audioCtx = null;
  function playDing() {
    try {
      if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();
      osc.connect(gain);
      gain.connect(audioCtx.destination);
      osc.type = 'sine';
      osc.frequency.setValueAtTime(880, audioCtx.currentTime);
      osc.frequency.exponentialRampToValueAtTime(440, audioCtx.currentTime + 0.3);
      gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
      gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
      osc.start(audioCtx.currentTime);
      osc.stop(audioCtx.currentTime + 0.5);
    } catch (e) {
      // Audio not supported ‚Äî no problem
    }
  }

  function playTick() {
    try {
      if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();
      osc.connect(gain);
      gain.connect(audioCtx.destination);
      osc.type = 'sine';
      osc.frequency.setValueAtTime(1200, audioCtx.currentTime);
      gain.gain.setValueAtTime(0.06, audioCtx.currentTime);
      gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.04);
      osc.start(audioCtx.currentTime);
      osc.stop(audioCtx.currentTime + 0.04);
    } catch (e) {}
  }

  // ---- Spin logic ----
  window.spin = function () {
    if (spinning) return;
    spinning = true;

    const btn = document.getElementById('spinBtn');
    btn.disabled = true;
    btn.textContent = 'Spinning...';

    // Clear previous result
    const rt = document.getElementById('resultText');
    const rs = document.getElementById('resultSub');
    rt.classList.remove('show');
    rs.classList.remove('show');

    // Random total rotation: 5-9 full spins + random offset
    const totalRotation = (5 + Math.random() * 4) * 2 * Math.PI + Math.random() * 2 * Math.PI;
    const duration = 4000 + Math.random() * 1500; // 4-5.5 seconds
    const startAngle = currentAngle;
    const startTime = performance.now();

    let lastSegment = -1;

    function animate(now) {
      const elapsed = now - startTime;
      const progress = Math.min(elapsed / duration, 1);

      // Ease-out: cubic deceleration
      const eased = 1 - Math.pow(1 - progress, 3);
      currentAngle = startAngle + totalRotation * eased;

      draw();

      // Tick sound when crossing segment boundary
      const normalised = ((currentAngle % (2 * Math.PI)) + 2 * Math.PI) % (2 * Math.PI);
      const currentSeg = Math.floor(normalised / arc);
      if (currentSeg !== lastSegment) {
        lastSegment = currentSeg;
        if (progress < 0.95) playTick();
      }

      if (progress < 1) {
        requestAnimationFrame(animate);
      } else {
        // Determine winner ‚Äî pointer is at top (12 o'clock = -PI/2)
        // currentAngle is the rotation applied; the segment at the top:
        const finalAngle = ((currentAngle % (2 * Math.PI)) + 2 * Math.PI) % (2 * Math.PI);
        // The pointer points to angle -PI/2 in canvas space.
        // Segment i covers [currentAngle + i*arc - PI/2, currentAngle + (i+1)*arc - PI/2]
        // At the pointer (angle -PI/2 in canvas = 0 in "wheel space before rotation"):
        // which segment is at angle (2PI - finalAngle) in the original layout?
        const pointerInWheel = ((2 * Math.PI - finalAngle) % (2 * Math.PI) + 2 * Math.PI) % (2 * Math.PI);
        const winnerIndex = Math.floor(pointerInWheel / arc) % n;

        playDing();

        // Show result
        rt.textContent = options[winnerIndex].emoji + ' ' + options[winnerIndex].label;
        rs.textContent = subtitles[options[winnerIndex].label];

        setTimeout(() => { rt.classList.add('show'); }, 100);
        setTimeout(() => { rs.classList.add('show'); }, 300);

        btn.disabled = false;
        btn.textContent = 'Spin again';
        spinning = false;
      }
    }

    requestAnimationFrame(animate);
  };

  // Also allow clicking the canvas to spin
  canvas.addEventListener('click', function () {
    if (!spinning) window.spin();
  });

})();

// ---- Acres to Football Pitches Converter ----
function convertAcres() {
  const acresInput = document.getElementById('acresInput');
  const resultDiv = document.getElementById('convertResult');

  const acres = parseFloat(acresInput.value);

  if (isNaN(acres) || acres < 0) {
    resultDiv.textContent = 'Enter acres to convert';
    return;
  }

  if (acres === 0) {
    resultDiv.textContent = '0 football pitches';
    return;
  }

  // Standard English football pitch is approximately 1.76 acres
  // (Based on typical pitch size of 105m x 68m = 7,140 sq meters = 1.76 acres)
  const ACRES_PER_PITCH = 1.76;
  const pitches = acres / ACRES_PER_PITCH;

  resultDiv.innerHTML = `‚öΩ <strong>${pitches.toFixed(2)}</strong> English football pitches`;
}
</script>

<!-- Service Worker registration for offline support -->
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').catch(function () {
    // SW not available ‚Äî that's fine
  });
}
</script>

</body>
</html>
